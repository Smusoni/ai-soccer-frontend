<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SkillzWithSyd – Prototype</title>
  
  <!-- Social & preview metadata -->
<meta name="theme-color" content="#0f0f0f" />
<meta property="og:type" content="website" />
<meta property="og:title" content="Ball Knowledge – AI Soccer Prototype" />
<meta property="og:description" content="Add players and preview AI-style analysis. Built by Ball Knowledge." />
<meta property="og:image" content="ball-knowledge-high-resolution-logo.png" />
<meta property="og:url" content="https://smusoni.github.io/ai-soccer-frontend/" />
<meta name="twitter:card" content="summary_large_image" />
  
  <!-- Favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">

 <style>
  body {
    font-family: "Poppins", Arial, sans-serif;
    background: #0f0f0f;
    color: #fff;
    margin: 24px;
    max-width: 720px;
    line-height: 1.6;
  }
  h1 {
    margin: 10px 0;
    font-size: 2rem;
    color: #00ff88;
    text-shadow: 0 0 8px rgba(0, 255, 136, 0.5);
  }
  .card {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 12px;
    padding: 16px;
    margin: 12px 0;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
  }
  input, button {
    padding: 10px 12px;
    font-size: 16px;
    border-radius: 8px;
  }
  input {
    border: 1px solid rgba(255,255,255,0.2);
    background: rgba(255,255,255,0.1);
    color: #fff;
  }
  button {
    border: none;
    background: linear-gradient(90deg, #00aaff, #00ff88);
    color: #fff;
    cursor: pointer;
    transition: opacity 0.3s ease;
  }
  button:hover { opacity: 0.8; }
  ul { padding-left: 20px; }
  .row { display: flex; gap: 8px; }
  .muted { color: #aaa; font-size: 14px; }
  #msg { margin-top: 8px; }
  .error { color: #ff5555; }
  .ok { color: #00ff88; }
  img.logo {
    width: 180px;
    margin-bottom: 10px;
  }
   /* --- Splash / Intro --- */
#splash {
  position: fixed; inset: 0; z-index: 9999;
  display: flex; flex-direction: column; gap: 16px;
  align-items: center; justify-content: center;
  background: #0f0f0f;
}

#splash .logo {
  width: 160px; height: auto; opacity: 0.95;
}

#splash h1 {
  margin: 8px 0 0; font-size: 2.2rem; color: #00ff88;
  text-shadow: 0 0 12px rgba(0,255,136,0.55);
}

#splash p { color: #aaa; margin: 0; }

.spinner {
  width: 44px; height: 44px; border-radius: 50%;
  border: 3px solid rgba(255,255,255,0.15);
  border-top-color: #00aaff;
  animation: spin 0.9s linear infinite;
}

@keyframes spin { to { transform: rotate(360deg); } }

#splash.hide { animation: fadeout 500ms ease forwards; }
@keyframes fadeout { to { opacity: 0; visibility: hidden; } }
</style>

</head>
<body>
  <!-- Intro / Splash -->
<div id="splash">
  <img src="ball-knowledge-high-resolution-logo.png" alt="Ball Knowledge Logo" class="logo" />
  <h1>Ball Knowledge</h1>
  <p>Initializing AI… connecting to server</p>
  <div class="spinner"></div>
</div>

  <img src="ball-knowledge-high-resolution-logo.png" alt="Ball Knowledge Logo" class="logo">
<h1>Ball Knowledge</h1>
<p class="muted">Analyze. Learn. Evolve.</p>
  
  <div class="card">
    <h3>Add player</h3>
    <div class="row">
      <input id="name" placeholder="Player name" />
      <button id="addBtn">Add</button>
    </div>
    <div id="msg"></div>
  </div>

  <div class="card">
    <h3>Players</h3>
    <button id="refresh">Refresh list</button>
    <ul id="list"></ul>
  </div>

  <script>
    const BASE = "https://ai-soccer-backend-2-production.up.railway.app";
    
  // --- Splash boot logic ---
  async function bootSplash() {
    const splash = document.getElementById('splash');

    // minimum display so it feels deliberate
    const minDelay = new Promise(r => setTimeout(r, 1200));

    // ping backend health (don’t crash if it fails)
    const ping = fetch(`${BASE}/api/health`, { cache: 'no-store' })
      .then(r => r.json()).catch(() => ({}));

    await Promise.allSettled([minDelay, ping]);

    // fade out & remove
    splash.classList.add('hide');
    setTimeout(() => splash.remove(), 600);
  }
  bootSplash();
</script>

    const nameEl = document.getElementById('name');
    const msgEl = document.getElementById('msg');
    const listEl = document.getElementById('list');

    function showMsg(text, ok=true) {
      msgEl.textContent = text;
      msgEl.className = ok ? 'ok' : 'error';
    }

    async function refresh() {
      listEl.innerHTML = '<li class="muted">Loading…</li>';
      try {
        const res = await fetch(`${BASE}/api/players`);
        const data = await res.json();
        listEl.innerHTML = '';
        if (!data.players?.length) {
          listEl.innerHTML = '<li class="muted">No players yet.</li>';
          return;
        }
        for (const p of data.players) {
          const li = document.createElement('li');
          li.textContent = p;
          listEl.appendChild(li);
        }
      } catch (e) {
        listEl.innerHTML = '<li class="error">Failed to load players.</li>';
      }
    }

    document.getElementById('addBtn').onclick = async () => {
      const name = nameEl.value.trim();
      if (!name) return showMsg('Please enter a name', false);
      showMsg('Adding…');
      try {
        const res = await fetch(`${BASE}/api/player`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ name })
        });
        const data = await res.json();
        if (data.ok) {
          showMsg(`Added ${name} ✅`, true);
          nameEl.value = '';
          refresh();
        } else {
          showMsg(data.error || 'Could not add player', false);
        }
      } catch (e) {
        showMsg('Network error', false);
      }
    };

    document.getElementById('refresh').onclick = refresh;

    // initial load
    refresh();
  </script>
</body>
</html>
